(this.webpackJsonpDexKitdex=this.webpackJsonpDexKitdex||[]).push([[36],{3318:function(t,e,o){!function(t){"use strict";var e=Object.assign||function(t){for(var e,o=arguments,i=1,n=arguments.length;i<n;i++)for(var s in e=o[i])Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t};function o(t,i){var n=e({},t);for(var s in i)"object"!=typeof t[s]||null===t[s]||Array.isArray(t[s])?void 0!==i[s]&&(n[s]=i[s]):n[s]=o(t[s],i[s]);return n}var i={mobile:{disabled_features:["left_toolbar","header_widget","timeframes_toolbar","edit_buttons_in_legend","context_menus","control_bar","border_around_the_chart"],enabled_features:[]}},n={width:800,height:500,symbol:"AA",interval:"D",timezone:"Etc/UTC",container_id:"",library_path:"",locale:"en",widgetbar:{details:!1,watchlist:!1,watchlist_settings:{default_symbols:[]}},overrides:{"mainSeriesProperties.showCountdown":!1},studies_overrides:{},brokerConfig:{configFlags:{}},fullscreen:!1,autosize:!1,disabled_features:[],enabled_features:[],debug:!1,logo:{},time_frames:[{text:"5y",resolution:"W"},{text:"1y",resolution:"W"},{text:"6m",resolution:"120"},{text:"3m",resolution:"60"},{text:"1m",resolution:"30"},{text:"5d",resolution:"5"},{text:"1d",resolution:"1"}],client_id:"0",user_id:"0",charts_storage_api_version:"1.0",favorites:{intervals:[],chartTypes:[]}};function s(){return"1.14 (internal id aaac22e2 @ 2019-04-04 08:31:56.077488)"}var r=function(){function t(t){if(this._id="tradingview_"+(1048576*(1+Math.random())|0).toString(16).substring(1),this._ready=!1,this._readyHandlers=[],this._onWindowResize=this._autoResizeChart.bind(this),!t.datafeed)throw new Error("Datafeed is not defined");if(this._options=o(n,t),t.preset){var e=i[t.preset];e?(void 0!==this._options.disabled_features?this._options.disabled_features=this._options.disabled_features.concat(e.disabled_features):this._options.disabled_features=e.disabled_features,void 0!==this._options.enabled_features?this._options.enabled_features=this._options.enabled_features.concat(e.enabled_features):this._options.enabled_features=e.enabled_features):console.warn("Unknown preset: `"+t.preset+"`")}"Dark"===this._options.theme&&void 0===this._options.loading_screen&&(this._options.loading_screen={backgroundColor:"#181a1f"}),this._create()}return t.prototype.onChartReady=function(t){this._ready?t.call(this):this._readyHandlers.push(t)},t.prototype.headerReady=function(){var t=this;return this._innerWindowLoaded.then((function(){return t._innerWindow().headerReady()}))},t.prototype.onGrayedObjectClicked=function(t){this._innerAPI().onGrayedObjectClicked(t)},t.prototype.onShortcut=function(t,e){this._innerWindow().createShortcutAction(t,e)},t.prototype.subscribe=function(t,e){this._innerAPI().subscribe(t,e)},t.prototype.unsubscribe=function(t,e){this._innerAPI().unsubscribe(t,e)},t.prototype.chart=function(t){return this._innerAPI().chart(t)},t.prototype.setLanguage=function(t){this.remove(),this._options.locale=t,this._create()},t.prototype.setSymbol=function(t,e,o){this._innerAPI().changeSymbol(t,e+"",o)},t.prototype.remove=function(){window.removeEventListener("resize",this._onWindowResize),this._readyHandlers.splice(0,this._readyHandlers.length),delete window[this._id],this._iFrame.parentNode&&this._iFrame.parentNode.removeChild(this._iFrame)},t.prototype.closePopupsAndDialogs=function(){this._innerAPI().closePopupsAndDialogs()},t.prototype.selectLineTool=function(t){this._innerAPI().selectLineTool(t)},t.prototype.selectedLineTool=function(){return this._innerAPI().selectedLineTool()},t.prototype.save=function(t){this._innerAPI().saveChart(t)},t.prototype.load=function(t,e){this._innerAPI().loadChart({json:t,extendedData:e})},t.prototype.getSavedCharts=function(t){this._innerAPI().getSavedCharts(t)},t.prototype.loadChartFromServer=function(t){this._innerAPI().loadChartFromServer(t)},t.prototype.saveChartToServer=function(t,e,o,i){this._innerAPI().saveChartToServer(t,e,o,i)},t.prototype.removeChartFromServer=function(t,e){this._innerAPI().removeChartFromServer(t,e)},t.prototype.onContextMenu=function(t){this._innerAPI().onContextMenu(t)},t.prototype.createButton=function(t){return this._innerWindow().createButton(t)},t.prototype.showNoticeDialog=function(t){this._innerAPI().showNoticeDialog(t)},t.prototype.showConfirmDialog=function(t){this._innerAPI().showConfirmDialog(t)},t.prototype.showLoadChartDialog=function(){this._innerAPI().showLoadChartDialog()},t.prototype.showSaveAsChartDialog=function(){this._innerAPI().showSaveAsChartDialog()},t.prototype.symbolInterval=function(){return this._innerAPI().getSymbolInterval()},t.prototype.mainSeriesPriceFormatter=function(){return this._innerAPI().mainSeriesPriceFormatter()},t.prototype.getIntervals=function(){return this._innerAPI().getIntervals()},t.prototype.getStudiesList=function(){return this._innerAPI().getStudiesList()},t.prototype.addCustomCSSFile=function(t){this._innerWindow().addCustomCSSFile(t)},t.prototype.applyOverrides=function(t){this._options=o(this._options,{overrides:t}),this._innerWindow().applyOverrides(t)},t.prototype.applyStudiesOverrides=function(t){this._innerWindow().applyStudiesOverrides(t)},t.prototype.watchList=function(){return this._innerAPI().watchlist()},t.prototype.activeChart=function(){return this._innerAPI().activeChart()},t.prototype.chartsCount=function(){return this._innerAPI().chartsCount()},t.prototype.layout=function(){return this._innerAPI().layout()},t.prototype.setLayout=function(t){this._innerAPI().setLayout(t)},t.prototype.layoutName=function(){return this._innerAPI().layoutName()},t.prototype.changeTheme=function(t){this._innerWindow().changeTheme(t)},t.prototype.takeScreenshot=function(){this._innerAPI().takeScreenshot()},t.prototype.lockAllDrawingTools=function(){return this._innerAPI().lockAllDrawingTools()},t.prototype.hideAllDrawingTools=function(){return this._innerAPI().hideAllDrawingTools()},t.prototype.undoRedoState=function(){return this._innerAPI().undoRedoState()},t.prototype._innerAPI=function(){return this._innerWindow().tradingViewApi},t.prototype._innerWindow=function(){return this._iFrame.contentWindow},t.prototype._autoResizeChart=function(){this._options.fullscreen&&(this._iFrame.style.height=window.innerHeight+"px")},t.prototype._create=function(){var t=this,e=this._render(),o=document.getElementById(this._options.container_id);if(null===o)throw new Error("There is no such element - #"+this._options.container_id);o.innerHTML=e,this._iFrame=o.querySelector("#"+this._id);var i=this._iFrame;(this._options.autosize||this._options.fullscreen)&&(i.style.width="100%",this._options.fullscreen||(i.style.height="100%")),window.addEventListener("resize",this._onWindowResize),this._onWindowResize(),this._innerWindowLoaded=new Promise((function(t){i.addEventListener("load",(function e(){i.removeEventListener("load",e,!1),t()}),!1)})),this._innerWindowLoaded.then((function(){t._innerWindow().widgetReady((function(){t._ready=!0;for(var e=0,o=t._readyHandlers;e<o.length;e++){var i=o[e];try{i.call(t)}catch(t){console.error(t)}}t._innerWindow().initializationFinished()}))}))},t.prototype._render=function(){var t=window;t[this._id]={datafeed:this._options.datafeed,customFormatters:this._options.customFormatters,brokerFactory:this._options.brokerFactory,overrides:this._options.overrides,studiesOverrides:this._options.studies_overrides,disabledFeatures:this._options.disabled_features,enabledFeatures:this._options.enabled_features,brokerConfig:this._options.brokerConfig,restConfig:this._options.restConfig,favorites:this._options.favorites,logo:this._options.logo,numeric_formatting:this._options.numeric_formatting,rss_news_feed:this._options.rss_news_feed,newsProvider:this._options.news_provider,loadLastChart:this._options.load_last_chart,saveLoadAdapter:this._options.save_load_adapter,loading_screen:this._options.loading_screen,settingsAdapter:this._options.settings_adapter,customIndicatorsUrl:this._options.indicators_file_name},this._options.saved_data&&(t[this._id].chartContent={json:this._options.saved_data});var e=(this._options.library_path||"")+"static/"+this._options.locale+"-tv-chart.aaac22e21df68f2f7bad.html#symbol="+encodeURIComponent(this._options.symbol)+"&interval="+encodeURIComponent(this._options.interval)+(this._options.timeframe?"&timeframe="+encodeURIComponent(this._options.timeframe):"")+(this._options.toolbar_bg?"&toolbarbg="+this._options.toolbar_bg.replace("#",""):"")+(this._options.studies_access?"&studiesAccess="+encodeURIComponent(JSON.stringify(this._options.studies_access)):"")+"&widgetbar="+encodeURIComponent(JSON.stringify(this._options.widgetbar))+(this._options.drawings_access?"&drawingsAccess="+encodeURIComponent(JSON.stringify(this._options.drawings_access)):"")+"&timeFrames="+encodeURIComponent(JSON.stringify(this._options.time_frames))+"&locale="+encodeURIComponent(this._options.locale)+"&uid="+encodeURIComponent(this._id)+"&clientId="+encodeURIComponent(String(this._options.client_id))+"&userId="+encodeURIComponent(String(this._options.user_id))+(this._options.charts_storage_url?"&chartsStorageUrl="+encodeURIComponent(this._options.charts_storage_url):"")+(this._options.charts_storage_api_version?"&chartsStorageVer="+encodeURIComponent(this._options.charts_storage_api_version):"")+(this._options.custom_css_url?"&customCSS="+encodeURIComponent(this._options.custom_css_url):"")+(this._options.auto_save_delay?"&autoSaveDelay="+encodeURIComponent(String(this._options.auto_save_delay)):"")+"&debug="+this._options.debug+(this._options.snapshot_url?"&snapshotUrl="+encodeURIComponent(this._options.snapshot_url):"")+(this._options.timezone?"&timezone="+encodeURIComponent(this._options.timezone):"")+(this._options.study_count_limit?"&studyCountLimit="+encodeURIComponent(String(this._options.study_count_limit)):"")+(this._options.symbol_search_request_delay?"&ssreqdelay="+encodeURIComponent(String(this._options.symbol_search_request_delay)):"")+(this._options.theme?"&theme="+encodeURIComponent(String(this._options.theme)):"");return'<iframe id="'+this._id+'" name="'+this._id+'"  src="'+e+'"'+(this._options.autosize||this._options.fullscreen?"":' width="'+this._options.width+'" height="'+this._options.height+'"')+' frameborder="0" allowTransparency="true" scrolling="no" allowfullscreen style="display:block;"></iframe>'},t}();window.TradingView=window.TradingView||{},window.TradingView.version=s,t.version=s,t.widget=r,Object.defineProperty(t,"__esModule",{value:!0})}(e)},3448:function(t,e,o){"use strict";o.r(e),o.d(e,"default",(function(){return D}));var i=o(15),n=o(17),s=o(20),r=o(21),a=o(414),u=o(23),h=o(413),c=o(3318),d=o(9),p=o(25);function l(t){return void 0===t?"":"string"===typeof t?t:t.message}var _=function(){function t(t,e){this._datafeedUrl=t,this._requester=e}return t.prototype.getBars=function(t,e,o,i){var n=this,s={symbol:t.ticker||"",resolution:e,from:o,to:i};return new Promise((function(t,e){n._requester.sendRequest(n._datafeedUrl,"history",s).then((function(o){if("ok"===o.s||"no_data"===o.s){var i=[],n={noData:!1};if("no_data"===o.s)n.noData=!0,n.nextTime=o.nextTime;else for(var s=void 0!==o.v,r=void 0!==o.o,a=0;a<o.t.length;++a){var u={time:1e3*o.t[a],close:Number(o.c[a]),open:Number(o.c[a]),high:Number(o.c[a]),low:Number(o.c[a])};r&&(u.open=Number(o.o[a]),u.high=Number(o.h[a]),u.low=Number(o.l[a])),s&&(u.volume=Number(o.v[a])),i.push(u)}t({bars:i,meta:n})}else e(o.errmsg)})).catch((function(t){var o=l(t);console.warn("HistoryProvider: getBars() failed, error="+o),e(o)}))}))},t}(),f=function(){function t(t,e){this._subscribers={},this._requestsPending=0,this._historyProvider=t,setInterval(this._updateData.bind(this),e)}return t.prototype.subscribeBars=function(t,e,o,i){this._subscribers.hasOwnProperty(i)||(this._subscribers[i]={lastBarTime:null,listener:o,resolution:e,symbolInfo:t},t.name)},t.prototype.unsubscribeBars=function(t){delete this._subscribers[t]},t.prototype._updateData=function(){var t=this;if(!(this._requestsPending>0)){this._requestsPending=0;var e=function(e){o._requestsPending+=1,o._updateDataForSubscriber(e).then((function(){t._requestsPending-=1,t._requestsPending})).catch((function(e){t._requestsPending-=1,l(e),t._requestsPending}))},o=this;for(var i in this._subscribers)e(i)}},t.prototype._updateDataForSubscriber=function(t){var e=this,o=this._subscribers[t],i=parseInt((Date.now()/1e3).toString()),n=i-function(t,e){var o=0;o="D"===t||"1D"===t?e:"M"===t||"1M"===t?31*e:"W"===t||"1W"===t?7*e:e*parseInt(t)/1440;return 24*o*60*60}(o.resolution,10);return this._historyProvider.getBars(o.symbolInfo,o.resolution,n,i).then((function(o){e._onSubscriberDataReceived(t,o)}))},t.prototype._onSubscriberDataReceived=function(t,e){if(this._subscribers.hasOwnProperty(t)){var o=e.bars;if(0!==o.length){var i=o[o.length-1],n=this._subscribers[t];if(!(null!==n.lastBarTime&&i.time<n.lastBarTime)){if(null!==n.lastBarTime&&i.time>n.lastBarTime){if(o.length<2)throw new Error("Not enough bars in history for proper pulse update. Need at least 2.");var s=o[o.length-2];n.listener(s)}n.lastBarTime=i.time,n.listener(i)}}}},t}();var m=function(){function t(t){this._subscribers={},this._requestsPending=0,this._quotesProvider=t,setInterval(this._updateQuotes.bind(this,1),1e4),setInterval(this._updateQuotes.bind(this,0),6e4)}return t.prototype.subscribeQuotes=function(t,e,o,i){this._subscribers[i]={symbols:t,fastSymbols:e,listener:o}},t.prototype.unsubscribeQuotes=function(t){delete this._subscribers[t]},t.prototype._updateQuotes=function(t){var e=this;if(!(this._requestsPending>0)){var o=function(o){i._requestsPending++;var n=i._subscribers[o];i._quotesProvider.getQuotes(1===t?n.fastSymbols:n.symbols).then((function(t){e._requestsPending--,e._subscribers.hasOwnProperty(o)&&(n.listener(t),e._requestsPending)})).catch((function(t){e._requestsPending--,l(t),e._requestsPending}))},i=this;for(var n in this._subscribers)o(n)}},t}();function y(t,e,o,i){var n=t[e];return!Array.isArray(n)||i&&!Array.isArray(n[0])?n:n[o]}var b=function(){function t(t,e,o){this._exchangesList=["NYSE","FOREX","AMEX"],this._symbolsInfo={},this._symbolsList=[],this._datafeedUrl=t,this._datafeedSupportedResolutions=e,this._requester=o,this._readyPromise=this._init(),this._readyPromise.catch((function(t){console.error("SymbolsStorage: Cannot init, error="+t.toString())}))}return t.prototype.resolveSymbol=function(t){var e=this;return this._readyPromise.then((function(){var o=e._symbolsInfo[t];return void 0===o?Promise.reject("invalid symbol"):Promise.resolve(o)}))},t.prototype.searchSymbols=function(t,e,o,i){var n=this;return this._readyPromise.then((function(){var s=[],r=0===t.length;t=t.toUpperCase();for(var a=function(i){var a=n._symbolsInfo[i];if(void 0===a)return"continue";if(o.length>0&&a.type!==o)return"continue";if(e&&e.length>0&&a.exchange!==e)return"continue";var u=a.name.toUpperCase().indexOf(t),h=a.description.toUpperCase().indexOf(t);if((r||u>=0||h>=0)&&!s.some((function(t){return t.symbolInfo===a}))){var c=u>=0?u:8e3+h;s.push({symbolInfo:a,weight:c})}},u=0,h=n._symbolsList;u<h.length;u++){a(h[u])}var c=s.sort((function(t,e){return t.weight-e.weight})).slice(0,i).map((function(t){var e=t.symbolInfo;return{symbol:e.name,full_name:e.full_name,description:e.description,exchange:e.exchange,params:[],type:e.type,ticker:e.name}}));return Promise.resolve(c)}))},t.prototype._init=function(){for(var t=this,e=[],o={},i=0,n=this._exchangesList;i<n.length;i++){var s=n[i];o[s]||(o[s]=!0,e.push(this._requestExchangeData(s)))}return Promise.all(e).then((function(){t._symbolsList.sort()}))},t.prototype._requestExchangeData=function(t){var e=this;return new Promise((function(o,i){e._requester.sendRequest(e._datafeedUrl,"symbol_info",{group:t}).then((function(n){try{e._onExchangeDataReceived(t,n)}catch(s){return void i(s)}o()})).catch((function(t){l(t),o()}))}))},t.prototype._onExchangeDataReceived=function(t,e){var o=0;try{for(var i=e.symbol.length,n=void 0!==e.ticker;o<i;++o){var s=e.symbol[o],r=y(e,"exchange-listed",o),a=y(e,"exchange-traded",o),u=a+":"+s,h=n?y(e,"ticker",o):s,c={ticker:h,name:s,base_name:[r+":"+s],full_name:u,listed_exchange:r,exchange:a,description:y(e,"description",o),has_intraday:g(y(e,"has-intraday",o),!1),has_no_volume:g(y(e,"has-no-volume",o),!1),minmov:y(e,"minmovement",o)||y(e,"minmov",o)||0,minmove2:y(e,"minmove2",o)||y(e,"minmov2",o),fractional:y(e,"fractional",o),pricescale:y(e,"pricescale",o),type:y(e,"type",o),session:y(e,"session-regular",o),timezone:y(e,"timezone",o),supported_resolutions:g(y(e,"supported-resolutions",o,!0),this._datafeedSupportedResolutions),force_session_rebuild:y(e,"force-session-rebuild",o),has_daily:g(y(e,"has-daily",o),!0),intraday_multipliers:g(y(e,"intraday-multipliers",o,!0),["1","5","15","30","60"]),has_weekly_and_monthly:y(e,"has-weekly-and-monthly",o),has_empty_bars:y(e,"has-empty-bars",o),volume_precision:g(y(e,"volume-precision",o),0)};this._symbolsInfo[h]=c,this._symbolsInfo[s]=c,this._symbolsInfo[u]=c,this._symbolsList.push(s)}}catch(d){throw new Error("SymbolsStorage: API error when processing exchange "+t+" symbol #"+o+" ("+e.symbol[o]+"): "+d.message)}},t}();function g(t,e){return void 0!==t?t:e}function v(t,e,o){var i=t[e];return Array.isArray(i)?i[o]:i}var w=function(){function t(t,e,o,i){void 0===i&&(i=1e4);var n=this;this._configuration={supports_search:!1,supports_group_request:!0,supported_resolutions:["1","5","15","30","60","1D","1W","1M"],supports_marks:!1,supports_timescale_marks:!1},this._symbolsStorage=null,this._datafeedURL=t,this._requester=o,this._historyProvider=new _(t,this._requester),this._quotesProvider=e,this._dataPulseProvider=new f(this._historyProvider,i),this._quotesPulseProvider=new m(this._quotesProvider),this._configurationReadyPromise=this._requestConfiguration().then((function(t){null===t&&(t={supports_search:!1,supports_group_request:!0,supported_resolutions:["1","5","15","30","60","1D","1W","1M"],supports_marks:!1,supports_timescale_marks:!1}),n._setupWithConfiguration(t)}))}return t.prototype.onReady=function(t){var e=this;this._configurationReadyPromise.then((function(){t(e._configuration)}))},t.prototype.getQuotes=function(t,e,o){this._quotesProvider.getQuotes(t).then(e).catch(o)},t.prototype.subscribeQuotes=function(t,e,o,i){this._quotesPulseProvider.subscribeQuotes(t,e,o,i)},t.prototype.unsubscribeQuotes=function(t){this._quotesPulseProvider.unsubscribeQuotes(t)},t.prototype.calculateHistoryDepth=function(t,e,o){},t.prototype.getMarks=function(t,e,o,i,n){if(this._configuration.supports_marks){var s={symbol:t.ticker||"",from:e,to:o,resolution:n};this._send("marks",s).then((function(t){if(!Array.isArray(t)){for(var e=[],o=0;o<t.id.length;++o)e.push({id:v(t,"id",o),time:v(t,"time",o),color:v(t,"color",o),text:v(t,"text",o),label:v(t,"label",o),labelFontColor:v(t,"labelFontColor",o),minSize:v(t,"minSize",o)});t=e}i(t)})).catch((function(t){l(t),i([])}))}},t.prototype.getTimescaleMarks=function(t,e,o,i,n){if(this._configuration.supports_timescale_marks){var s={symbol:t.ticker||"",from:e,to:o,resolution:n};this._send("timescale_marks",s).then((function(t){if(!Array.isArray(t)){for(var e=[],o=0;o<t.id.length;++o)e.push({id:v(t,"id",o),time:v(t,"time",o),color:v(t,"color",o),label:v(t,"label",o),tooltip:v(t,"tooltip",o)});t=e}i(t)})).catch((function(t){l(t),i([])}))}},t.prototype.getServerTime=function(t){this._configuration.supports_time&&this._send("time").then((function(e){var o=parseInt(e);isNaN(o)||t(o)})).catch((function(t){l(t)}))},t.prototype.searchSymbols=function(t,e,o,i){if(this._configuration.supports_search){var n={limit:30,query:t.toUpperCase(),type:o,exchange:e};this._send("search",n).then((function(t){if(void 0!==t.s)return t.errmsg,void i([]);i(t)})).catch((function(t){l(t),i([])}))}else{if(null===this._symbolsStorage)throw new Error("UdfCompatibleDatafeed: inconsistent configuration (symbols storage)");this._symbolsStorage.searchSymbols(t,e,o,30).then(i).catch(i.bind(null,[]))}},t.prototype.resolveSymbol=function(t,e,o){Date.now();function i(t){Date.now(),e(t)}if(this._configuration.supports_group_request){if(null===this._symbolsStorage)throw new Error("UdfCompatibleDatafeed: inconsistent configuration (symbols storage)");this._symbolsStorage.resolveSymbol(t).then(i).catch(o)}else{var n={symbol:t};this._send("symbols",n).then((function(t){void 0!==t.s?o("unknown_symbol"):i(t)})).catch((function(t){l(t),o("unknown_symbol")}))}},t.prototype.getBars=function(t,e,o,i,n,s){this._historyProvider.getBars(t,e,o,i).then((function(t){n(t.bars,t.meta)})).catch(s)},t.prototype.subscribeBars=function(t,e,o,i,n){this._dataPulseProvider.subscribeBars(t,e,o,i)},t.prototype.unsubscribeBars=function(t){this._dataPulseProvider.unsubscribeBars(t)},t.prototype._requestConfiguration=function(){return this._send("config").catch((function(t){return l(t),null}))},t.prototype._send=function(t,e){return this._requester.sendRequest(this._datafeedURL,t,e)},t.prototype._setupWithConfiguration=function(t){if(this._configuration=t,void 0===t.exchanges&&(t.exchanges=[]),!t.supports_search&&!t.supports_group_request)throw new Error("Unsupported datafeed configuration. Must either support search, or support group request");!t.supports_group_request&&t.supports_search||(this._symbolsStorage=new b(this._datafeedURL,t.supported_resolutions||[],this._requester)),JSON.stringify(t)},t}();var P,I=function(){function t(t,e){this._datafeedUrl=t,this._requester=e}return t.prototype.getQuotes=function(t){var e=this;return new Promise((function(o,i){e._requester.sendRequest(e._datafeedUrl,"quotes",{symbols:t}).then((function(t){"ok"===t.s?o(t.d):i(t.errmsg)})).catch((function(t){var e=l(t);i("network error: "+e)}))}))},t}(),S=function(){function t(t){t&&(this._headers=t)}return t.prototype.sendRequest=function(t,e,o){if(void 0!==o){var i=Object.keys(o);0!==i.length&&(e+="?"),e+=i.map((function(t){return encodeURIComponent(t)+"="+encodeURIComponent(o[t].toString())})).join("&")}var n={credentials:"same-origin"};return void 0!==this._headers&&(n.headers=this._headers),fetch(t+"/"+e,n).then((function(t){return t.text()})).then((function(t){return JSON.parse(t)}))},t}(),C=function(t){function e(e,o){void 0===o&&(o=1e4);var i=new S,n=new I(e,i);return t.call(this,e,n,i,o)||this}return p.__extends(e,t),e}(w),A=o(121),R=h.c.div(P||(P=Object(a.a)(["\n    height: 100%;\n    width: 100%;\n    padding: 0px;\n"])));function q(){var t=new RegExp("[\\?&]lang=([^&#]*)").exec(location.search);return null===t?null:decodeURIComponent(t[1].replace(/\+/g," "))}var D=function(t){Object(s.a)(o,t);var e=Object(r.a)(o);function o(){var t;Object(i.a)(this,o);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(t=e.call.apply(e,[this].concat(s))).state={symbol:t.props.symbol?t.props.symbol:"KIT-WETH",ready:!1},t._tvWidget=null,t}return Object(n.a)(o,[{key:"componentDidMount",value:function(){var t=this,e={symbol:this.props.symbol,datafeed:new C("".concat(Object(d.Z)(this.props.chainId),"/candles"),6e4),interval:this.props.interval,container_id:this.props.containerId,library_path:this.props.libraryPath,timeframe:"3M",locale:q()||"en",disabled_features:["use_localstorage_for_settings","left_toolbar","context_menus","control_bar"],enabled_features:[],charts_storage_url:this.props.chartsStorageUrl,charts_storage_api_version:this.props.chartsStorageApiVersion,client_id:this.props.clientId,user_id:this.props.userId,fullscreen:this.props.fullscreen,autosize:this.props.autosize,studies_overrides:this.props.studiesOverrides,theme:"Dark"},o=new A.a(window.localStorage).getThemeName();"DARK_THEME"===o?(e.theme="Dark",e.overrides={"paneProperties.background":"#111"}):"LIGHT_THEME"===o&&(e.theme="Light");var i=new c.widget(e);this._tvWidget=i,i.onChartReady((function(){t.setState({ready:!0})}))}},{key:"componentWillUnmount",value:function(){null!==this._tvWidget&&(this._tvWidget.remove(),this._tvWidget=null)}},{key:"componentDidUpdate",value:function(){if(null!==this._tvWidget&&this.state.ready&&this.props.symbol!==this.state.symbol){var t=this.props.symbol?this.props.symbol:"WETH-DAI";t&&(this.setState({symbol:t}),this._tvWidget.setSymbol(t,"D",(function(){})))}}},{key:"render",value:function(){return u.createElement(R,{id:this.props.containerId})}}]),o}(u.PureComponent);D.defaultProps={chainId:d.a,symbol:"WETH-DAI",interval:"D",containerId:"tv_chart_container",datafeedUrl:"".concat(Object(d.Z)(d.a),"/candles"),libraryPath:"/charting_library/",chartsStorageUrl:"https://saveload.tradingview.com",chartsStorageApiVersion:"1.1",clientId:"tradingview.com",userId:"dexkit",fullscreen:!1,autosize:!0,studiesOverrides:{}}}}]);